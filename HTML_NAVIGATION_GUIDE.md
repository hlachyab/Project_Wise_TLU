# HTML Navigation Guide

## How to Link Between Pages in Your HTML Files

### Using Flask's `url_for()` Function

In your HTML templates, use `{{ url_for('function_name') }}` to generate correct URLs.

---

## Examples for Common Navigation Patterns

### From Splash Screen (1_splash_screen.html)
```html
<!-- Login button -->
<a href="{{ url_for('login') }}" class="btn">Login</a>
```

### From Login Page (login.html)
```html
<!-- Navigate to home after successful login is handled by Flask redirect -->
<!-- But for demo links: -->
<a href="{{ url_for('home_screen') }}" class="btn">Go to Home</a>
```

### From Home Screen (2_home.html)
```html
<!-- Start Travel Mode -->
<a href="{{ url_for('travel_mode') }}" class="btn">Activate Travel Mode</a>

<!-- View Travel Hub -->
<a href="{{ url_for('travel_hub') }}" class="btn">Travel Hub</a>

<!-- View Pre-trip -->
<a href="{{ url_for('pre_trip') }}" class="btn">Pre-trip</a>

<!-- View Notifications -->
<a href="{{ url_for('notifications') }}" class="btn">Notifications</a>

<!-- List wallets -->
<a href="{{ url_for('travel_wallets_list') }}" class="btn">My Wallets</a>

<!-- Create new wallet -->
<a href="{{ url_for('travel_wallet_new') }}" class="btn">New Wallet</a>
```

### From Travel Mode Screen (4_travel_mode.html)
```html
<!-- Proceed to create wallet -->
<a href="{{ url_for('new_travel_wallet') }}" class="btn">Create Wallet</a>

<!-- Back to home -->
<a href="{{ url_for('home_screen') }}" class="btn-back">← Back</a>
```

### From New Travel Wallet (5_new_travel_wallet.html)
```html
<!-- Next step -->
<a href="{{ url_for('new_travel_wallet_second') }}" class="btn-next">Next</a>

<!-- Back -->
<a href="{{ url_for('travel_mode') }}" class="btn-back">← Back</a>
```

### From Wallet Second Step (6_new_travel_wallet_second.html)
```html
<!-- Submit wallet creation via form -->
<form method="POST" action="{{ url_for('travel_wallet_new') }}">
    <!-- form fields -->
    <button type="submit" class="btn">Create Wallet</button>
</form>

<!-- Cancel -->
<a href="{{ url_for('new_travel_wallet') }}" class="btn-back">← Back</a>
```

### From Wallet Details (7_japan_travel_wallet.html)
```html
<!-- View specific wallet -->
<!-- This page receives wallet_id as parameter -->
<!-- Generated by: url_for('travel_wallet_detail', wallet_id=123) -->

<!-- Add transaction to wallet -->
<form method="POST" action="{{ url_for('travel_wallet_add_tx', wallet_id=wallet.id) }}">
    <!-- form fields for transaction -->
    <button type="submit">Add Expense</button>
</form>

<!-- Back to list -->
<a href="{{ url_for('travel_wallets_list') }}" class="btn-back">← Back</a>
```

### From Travel Hub (8_travel_hub_guide.html)
```html
<!-- Back to home -->
<a href="{{ url_for('home_screen') }}" class="btn-back">← Back</a>
```

### From Pre-trip (9_pre_trip.html)
```html
<!-- Back to home -->
<a href="{{ url_for('home_screen') }}" class="btn-back">← Back</a>
```

### From Notifications (10_notifications.html)
```html
<!-- Back to home -->
<a href="{{ url_for('home_screen') }}" class="btn-back">← Back</a>
```

### Phase 2: OS Notification
```html
<!-- Go back to home -->
<a href="{{ url_for('home_screen') }}" class="btn">Home</a>
```

### Phase 2: Travel Mode Modal
```html
<!-- Activate travel mode -->
<form method="POST" action="{{ url_for('travel_activate') }}">
    <input type="hidden" name="country" value="JP">
    <button type="submit">Activate</button>
</form>
```

### Phase 3: Trip Ended
```html
<!-- View summary -->
<a href="{{ url_for('trip_summary') }}" class="btn">View Summary</a>
```

### Phase 4: Summary
```html
<!-- Back to wallets -->
<a href="{{ url_for('travel_wallets_list') }}" class="btn">Back to Wallets</a>

<!-- Start new trip -->
<a href="{{ url_for('travel_mode') }}" class="btn">Start New Trip</a>
```

---

## Common Form Submissions

### Login Form
```html
<form method="POST" action="{{ url_for('login') }}">
    <input type="email" name="email" required>
    <input type="password" name="password" required>
    <button type="submit">Login</button>
</form>
```

### Travel Activation
```html
<form method="POST" action="{{ url_for('travel_activate') }}">
    <select name="country" required>
        <option value="">Select Country</option>
        <option value="JP">Japan</option>
        <option value="HU">Hungary</option>
        <option value="TR">Turkey</option>
        <!-- Add more countries -->
    </select>
    <button type="submit">Activate Travel Mode</button>
</form>
```

### Currency Exchange
```html
<form method="POST" action="{{ url_for('exchange') }}">
    <select name="from_currency" required>
        <option value="EUR">EUR</option>
        <option value="USD">USD</option>
    </select>
    
    <select name="to_currency" required>
        <option value="EUR">EUR</option>
        <option value="USD">USD</option>
    </select>
    
    <input type="number" name="amount" step="0.01" required>
    <button type="submit">Exchange</button>
</form>
```

### Create Travel Wallet
```html
<form method="POST" action="{{ url_for('travel_wallet_new') }}">
    <input type="text" name="name" placeholder="Wallet Name" required>
    <select name="country_code" required>
        <option value="JP">Japan</option>
        <option value="PL">Poland</option>
    </select>
    <select name="currency" required>
        <option value="JPY">JPY</option>
        <option value="PLN">PLN</option>
    </select>
    <input type="date" name="start_date">
    <input type="date" name="end_date">
    <input type="number" name="soft_budget" step="0.01">
    <input type="number" name="hard_budget" step="0.01">
    <button type="submit">Create Wallet</button>
</form>
```

### Add Transaction
```html
<form method="POST" action="{{ url_for('travel_wallet_add_tx', wallet_id=wallet.id) }}">
    <input type="text" name="description" placeholder="Description" required>
    <input type="text" name="category" placeholder="Category (e.g., Food)">
    <input type="number" name="amount_local" step="0.01" required>
    <input type="hidden" name="currency_local" value="{{ wallet.currency }}">
    <label>
        <input type="checkbox" name="is_pre_trip" value="true">
        Pre-trip expense?
    </label>
    <button type="submit">Add Expense</button>
</form>
```

---

## Template Variables Available

When rendering templates, these variables are available:

### User-related
```html
{{ user.email }}              <!-- User email -->
{{ user.home_currency }}      <!-- EUR, USD, etc -->
{{ user.accounts }}           <!-- List of accounts -->
{{ user.travel_state }}       <!-- Current travel state -->
{{ user.wallets }}            <!-- User's travel wallets -->
```

### Wallet-related
```html
{{ wallet.name }}             <!-- "Japan 2025" -->
{{ wallet.country_code }}     <!-- "JP" -->
{{ wallet.currency }}         <!-- "JPY" -->
{{ wallet.start_date }}       <!-- Date object -->
{{ wallet.end_date }}         <!-- Date object -->
{{ wallet.soft_budget }}      <!-- Float -->
{{ wallet.hard_budget }}      <!-- Float -->
{{ wallet.is_active }}        <!-- Boolean -->
```

### Transaction-related
```html
{% for tx in transactions %}
    {{ tx.description }}
    {{ tx.amount_local }}
    {{ tx.currency_local }}
    {{ tx.amount_home }}
    {{ tx.category }}
    {{ tx.created_at }}
    {{ tx.is_pre_trip }}
{% endfor %}
```

### Summary data
```html
{{ summary.total_pre_trip }}      <!-- Float -->
{{ summary.total_during_trip }}   <!-- Float -->
{{ summary.total_spent }}         <!-- Float -->
{{ summary.category_totals }}     <!-- Dict -->
```

### Travel Guide
```html
{% if guide %}
    {{ guide.title }}
    {% for tip in guide.tips %}
        {{ tip }}
    {% endfor %}
{% endif %}
```

---

## Quick Copy-Paste Template

Here's a template structure for any HTML page:

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Page</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body>
    <div class="container">
        <!-- Your content -->
        
        <!-- Navigation -->
        <nav>
            <a href="{{ url_for('home_screen') }}">Home</a>
            <a href="{{ url_for('travel_mode') }}">Travel Mode</a>
            <a href="{{ url_for('logout') }}">Logout</a>
        </nav>
    </div>
</body>
</html>
```

---

## Important Notes

1. **Always use `{{ url_for() }}`** instead of hardcoding URLs
2. **Protect pages** - Check `if not current_user()` before showing content
3. **Flash messages** - Display success/error messages:
   ```html
   {% with messages = get_flashed_messages() %}
       {% if messages %}
           {% for message in messages %}
                <div class="alert">{{ message }}</div>
           {% endfor %}
       {% endif %}
   {% endwith %}
   ```
4. **Static files** - Use `url_for('static', filename='...')` for CSS, JS, images
5. **Method handling** - Use `method="POST"` for forms that change data

---

**Last Updated**: November 28, 2025

