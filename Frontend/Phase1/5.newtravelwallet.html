<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Wallet Details</title>
<style>
  :root{
    --bg:#f6f6f6; --card:#fff; --muted:#8a8a8a; --accent:#aef07a; --primary:#111;
    --shadow: 0 8px 24px rgba(16,24,32,0.08);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%;margin:0;background:var(--bg);color:var(--primary)}
  .phone {
    max-width:412px;margin:24px auto;border-radius:24px; background:linear-gradient(#fff,#fff);
    box-shadow: 0 6px 20px rgba(0,0,0,0.06); padding:22px; border:8px solid #e6e6e6;
  }
  .top {
    display:flex;align-items:center;gap:12px;margin-bottom:14px;
  }
  .back {
    width:38px;height:38px;border-radius:50%;background:#f2f2f2;display:flex;align-items:center;
    justify-content:center;font-size:20px;color:#333;box-shadow:0 1px 0 rgba(0,0,0,0.03);
  }
  h1{font-size:26px;margin:4px 0 20px 0; font-weight:700}
  label{display:block;font-size:13px;color:var(--muted);margin:14px 0 6px}
  .select {
    display:flex;align-items:center;gap:12px;background:var(--card);border-radius:10px;padding:12px 14px;
    border:1px solid #e6e6e6;box-shadow:0 1px 0 rgba(0,0,0,0.02);
  }
  .select .flag {width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;overflow:hidden}
  .select .flag img{width:100%;height:100%;object-fit:cover;display:block}
  .select .txt {flex:1;font-size:15px}
  .select .chev {font-size:18px;color:#8a8a8a}
  select.native {
    appearance:none;border:0;background:transparent;font:inherit;flex:1;outline:none;padding:0;
  }
  /* calendar card */
  .calendar-card {margin-top:18px;background:var(--card);border-radius:14px;padding:16px;box-shadow:var(--shadow);}
  .cal-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
  .cal-nav{display:flex;gap:8px;align-items:center}
  .cal-month{font-weight:700}
  .nav-btn{width:34px;height:34px;border-radius:8px;background:#fff;border:1px solid #eee;display:flex;align-items:center;justify-content:center;cursor:pointer}
  .weekdays{display:grid;grid-template-columns:repeat(7,1fr);color:var(--muted);font-size:13px;margin:8px 0}
  .days{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
  .day{
    height:40px;display:flex;align-items:center;justify-content:center;border-radius:8px;color:#222;cursor:pointer;
  }
  .day.other{color:#bdbdbd}
  .day.today{background:#e8f9d8;border-radius:50%;color:#1b6a09}
  .day.selected{background:var(--accent);color:#033;box-shadow:0 6px 18px rgba(10,150,30,0.12);border-radius:50%}
  /* continue button */
  .spacer{height:18px}
  .continue {
    margin:18px 10px 6px;padding:14px;border-radius:28px;background:var(--accent);text-align:center;font-weight:700;color:#072;
    box-shadow:0 6px 18px rgba(50,180,50,0.12);cursor:pointer
  }
  /* small devices */
  @media (max-width:420px){
    .phone{margin:12px;border-radius:20px;padding:18px}
  }
</style>
</head>
<body>
  <main class="app" role="main">
    <div class="top">
      <div class="back" aria-hidden="true">&#8592;</div>
      <div class="top-spacer"></div>
    </div>

    <h1>Enter your wallet details</h1>

    <label for="currency">Currency</label>
    <div class="select" aria-hidden="false">
      <div class="flag">
        <img id="currencyFlag"
             src="../images/eur-euro-detailed.svg" alt="EUR">
      </div>
      <div class="txt">
        <select id="currency" class="native" aria-label="Currency">
          <option value="EUR">EUR</option>
          <option value="USD">USD</option>
          <option value="GBP">GBP</option>
          <option value="JPY">JPY</option>
        </select>
      </div>
      <div class="chev">&#9662;</div>
    </div>

    <label for="country">Country</label>
    <div class="select">
      <div class="flag">
        <img id="countryFlag"
             src="../images/jp-japan.svg" alt="JP">
      </div>
      <div class="txt">
        <select id="country" class="native" aria-label="Country">
          <option value="JP">Japan</option>
          <option value="FR">France</option>
          <option value="DE">Germany</option>
        </select>
      </div>
      <div class="chev">&#9662;</div>
    </div>

    <div class="calendar-card" id="calendar">
      <div class="cal-head">
        <div class="cal-nav">
          <button class="nav-btn" id="prev" aria-label="Previous month">&#10094;</button>
        </div>
        <div class="cal-month" id="monthLabel">March 2023</div>
        <div class="cal-nav">
          <button class="nav-btn" id="next" aria-label="Next month">&#10095;</button>
        </div>
      </div>

      <div class="weekdays">
        <div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div style="color:#c0c0c0">Sat</div><div style="color:#c0c0c0">Sun</div>
      </div>

      <div class="days" id="daysGrid" role="grid" aria-label="Calendar days">
        <!-- days generated by JS -->
      </div>
    </div>

    <div class="spacer"></div>

    <div class="continue" id="continueBtn">Continue</div>
  </main>

<script>
(function(){
  const daysGrid = document.getElementById('daysGrid');
  const monthLabel = document.getElementById('monthLabel');
  const prevBtn = document.getElementById('prev');
  const nextBtn = document.getElementById('next');

  const currencySelect = document.getElementById('currency');
  const countrySelect = document.getElementById('country');
  const currencyFlag = document.getElementById('currencyFlag');
  const countryFlag = document.getElementById('countryFlag');

  // map currency -> flag image (place files accordingly)
  const currencyFlagMap = {
    EUR: 'images/flags/eu.svg',
    USD: 'images/flags/us.svg',
    GBP: 'images/flags/gb.svg',
    JPY: 'images/flags/jp.svg'
  };

  // when country changes, optionally set currency (Japan -> JPY)
  const countryToCurrency = {
    JP: 'JPY',
    FR: 'EUR',
    DE: 'EUR'
  };

  function updateFlags(){
    const cur = currencySelect.value;
    if(currencyFlagMap[cur]) currencyFlag.src = currencyFlagMap[cur];
    // set country flag based on selected country (simple mapping)
    const c = countrySelect.value;
    if(c === 'JP') countryFlag.src = 'images/flags/jp.svg';
    else if(c === 'FR') countryFlag.src = 'images/flags/eu.svg';
    else if(c === 'DE') countryFlag.src = 'images/flags/eu.svg';
  }

  currencySelect.addEventListener('change', updateFlags);
  countrySelect.addEventListener('change', ()=> {
    const mapped = countryToCurrency[countrySelect.value];
    if(mapped){
      // ensure currency option exists and select it
      if(!Array.from(currencySelect.options).some(o=>o.value===mapped)){
        const opt = document.createElement('option');
        opt.value = mapped;
        opt.textContent = mapped;
        currencySelect.appendChild(opt);
      }
      currencySelect.value = mapped;
    }
    updateFlags();
  });

  // calendar logic
  let today = new Date();
  let sel = { date: new Date(today.getFullYear(), today.getMonth(), today.getDate()) };
  let view = new Date(today.getFullYear(), today.getMonth(), 1);

  function render(){
    const year = view.getFullYear(), month = view.getMonth();
    monthLabel.textContent = view.toLocaleString(undefined,{ month:'long', year:'numeric'});

    const firstDay = new Date(year, month, 1);
    const dayOfWeek = (firstDay.getDay() + 6) % 7; // 0=Mon .. 6=Sun

    const daysInMonth = new Date(year, month+1, 0).getDate();
    const prevDays = new Date(year, month, 0).getDate();

    daysGrid.innerHTML = '';
    for(let i=dayOfWeek-1;i>=0;i--){
      const d = prevDays - i;
      const el = createDayElement(new Date(year, month-1, d), true);
      daysGrid.appendChild(el);
    }
    for(let d=1; d<=daysInMonth; d++){
      const date = new Date(year, month, d);
      const el = createDayElement(date, false);
      daysGrid.appendChild(el);
    }
    const total = daysGrid.children.length;
    const remainder = (7 - (total % 7)) % 7;
    for(let i=1;i<=remainder;i++){
      const date = new Date(year, month+1, i);
      const el = createDayElement(date, true);
      daysGrid.appendChild(el);
    }
  }

  function createDayElement(date, isOther){
    const el = document.createElement('div');
    el.className = 'day' + (isOther ? ' other':'');

    const dnum = date.getDate();
    el.textContent = dnum;

    if(date.toDateString() === new Date().toDateString()){
      el.classList.add('today');
    }
    if(sel.date && date.toDateString() === sel.date.toDateString()){
      el.classList.add('selected');
    }
    el.addEventListener('click', ()=> {
      sel.date = date;
      if(isOther){
        view = new Date(date.getFullYear(), date.getMonth(), 1);
      }
      render();
    });
    return el;
  }

  prevBtn.addEventListener('click', ()=> {
    view = new Date(view.getFullYear(), view.getMonth()-1, 1);
    render();
  });
  nextBtn.addEventListener('click', ()=> {
    view = new Date(view.getFullYear(), view.getMonth()+1, 1);
    render();
  });

  render();
  updateFlags();

  document.getElementById('continueBtn').addEventListener('click', ()=>{
    const currency = currencySelect.value;
    const country = countrySelect.value;
    const date = sel.date ? sel.date.toISOString().slice(0,10) : '';
    console.log({currency,country,date});
    alert('Continue: ' + currency + ' • ' + country + ' • ' + date);
  });
})();
</script>
</body>
</html>
